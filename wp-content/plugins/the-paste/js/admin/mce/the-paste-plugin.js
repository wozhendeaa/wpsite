!function n(a,i,r){function p(o,t){if(!i[o]){if(!a[o]){var e="function"==typeof require&&require;if(!t&&e)return e(o,!0);if(d)return d(o,!0);throw(e=new Error("Cannot find module '"+o+"'")).code="MODULE_NOT_FOUND",e}e=i[o]={exports:{}},a[o][0].call(e.exports,function(t){return p(a[o][1][t]||t)},e,e.exports,n,a,i,r)}return i[o].exports}for(var d="function"==typeof require&&require,t=0;t<r.length;t++)p(r[t]);return p}({1:[function(t,o,e){"use strict";var n,p;p=jQuery,n=function(a){var t,e,i=wp.media.thepaste,r=0;i.options.editor.auto_upload="false"!==localStorage.getItem("thepaste.auto_upload"),i.options.editor.can_upload&&(a.addCommand("cmd_thepaste",function(){i.options.editor.auto_upload=!i.options.editor.auto_upload,localStorage.setItem("thepaste.auto_upload",i.options.editor.auto_upload.toString()),t.active(i.options.editor.auto_upload)}),a.addButton("thepaste",{icon:"thepaste",tooltip:i.l10n.upload_pasted_images,cmd:"cmd_thepaste",onPostRender:function(){t=this},active:i.options.editor.auto_upload}),a.addButton("wp_img_thepaste_upload",{icon:"dashicon dashicons dashicons-upload thepaste-upload",tooltip:i.l10n.upload_image,onclick:function(){var t=a.selection.getNode();i.uploadImage(t,a)}}),a.once("preinit",function(){a.wp&&a.wp._createToolbar&&(e=a.wp._createToolbar(["wp_img_alignleft","wp_img_aligncenter","wp_img_alignright","wp_img_alignnone","wp_img_thepaste_upload","wp_img_edit","wp_img_remove"]))}),a.on("wptoolbar",function(t){var o;"IMG"!==t.element.nodeName||a.wp.isPlaceholder(t.element)||(o=(t.toolbar=e).$el.find(".thepaste-upload").closest(".mce-btn"),!function(t){t=t.src.substring(0,5);return"blob:"===t||"data:"===t}(t.element)?o.hide():o.show())})),a.on("BeforePastePreProcess",function(t){return t.content.match(/&lt;svg[\s\S.]*&lt;\/svg&gt;/i)&&(t.preventDefault(),t.content=""),t}).on("PastePreProcess",function(t){0===t.content.indexOf("<img")&&(r++,t.content='<img id="thepasted-'+r.toString()+'"'+t.content.substr(4))}).on("PastePostProcess",function(t){var e,n=p(t.node).children().first();n.is("img")&&(n.get(0).onload=function(t){var o=this.naturalWidth*this.naturalHeight>i.options.editor.force_upload_size;i.options.editor.can_upload&&(i.options.editor.auto_upload||o)?(e=i.uploadImage(n.get(0),a),n.remove(),p(t.node).append(e)):!i.options.editor.can_upload&&o&&a.$("#thepasted-"+r.toString()).remove()})})},tinymce.PluginManager.add("the_paste",n)},{}]},{},[1]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkbWluL21jZS9ub2RlX21vZHVsZXMvYnJvd3Nlci1wYWNrL19wcmVsdWRlLmpzIiwiYWRtaW4vbWNlL3NyYy9qcy9hZG1pbi9tY2UvdGhlLXBhc3RlLXBsdWdpbi9pbmRleC5qcyJdLCJuYW1lcyI6WyJyIiwiZSIsIm4iLCJ0IiwibyIsImkiLCJmIiwiYyIsInJlcXVpcmUiLCJ1IiwiYSIsIkVycm9yIiwiY29kZSIsInAiLCJleHBvcnRzIiwiY2FsbCIsImxlbmd0aCIsIjEiLCJtb2R1bGUiLCJ0aGVfcGFzdGVQbHVnaW5DYWxsYmFjayIsIiQiLCJqUXVlcnkiLCJlZGl0b3IiLCJwYXN0ZUJ0biIsInRvb2xiYXIiLCJ0aGVwYXN0ZSIsIndwIiwibWVkaWEiLCJjdXJyZW50UGFzdGVkIiwib3B0aW9ucyIsImF1dG9fdXBsb2FkIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsImNhbl91cGxvYWQiLCJhZGRDb21tYW5kIiwic2V0SXRlbSIsInRvU3RyaW5nIiwiYWN0aXZlIiwiYWRkQnV0dG9uIiwiaWNvbiIsInRvb2x0aXAiLCJsMTBuIiwidXBsb2FkX3Bhc3RlZF9pbWFnZXMiLCJjbWQiLCJvblBvc3RSZW5kZXIiLCJ0aGlzIiwidXBsb2FkX2ltYWdlIiwib25jbGljayIsImltYWdlIiwic2VsZWN0aW9uIiwiZ2V0Tm9kZSIsInVwbG9hZEltYWdlIiwib25jZSIsIl9jcmVhdGVUb29sYmFyIiwib24iLCJldmVudCIsInVwbG9hZEJ0biIsImVsZW1lbnQiLCJub2RlTmFtZSIsImlzUGxhY2Vob2xkZXIiLCIkZWwiLCJmaW5kIiwiY2xvc2VzdCIsImltZyIsInN1YiIsInNyYyIsInN1YnN0cmluZyIsImNhblVwbG9hZCIsImhpZGUiLCJzaG93IiwiY29udGVudCIsIm1hdGNoIiwicHJldmVudERlZmF1bHQiLCJpbmRleE9mIiwic3Vic3RyIiwiJHVwbG9hZEJveCIsIiRmaXJzdENoaWxkIiwibm9kZSIsImNoaWxkcmVuIiwiZmlyc3QiLCJpcyIsImdldCIsIm9ubG9hZCIsInNob3VsZF91cGxvYWQiLCJuYXR1cmFsV2lkdGgiLCJuYXR1cmFsSGVpZ2h0IiwiZm9yY2VfdXBsb2FkX3NpemUiLCJyZW1vdmUiLCJhcHBlbmQiLCJ0aW55bWNlIiwiUGx1Z2luTWFuYWdlciIsImFkZCJdLCJtYXBwaW5ncyI6IkNBQUEsU0FBQUEsRUFBQUMsRUFBQUMsRUFBQUMsR0FBQSxTQUFBQyxFQUFBQyxFQUFBQyxHQUFBLElBQUFKLEVBQUFHLEdBQUEsQ0FBQSxJQUFBSixFQUFBSSxHQUFBLENBQUEsSUFBQUUsRUFBQSxtQkFBQUMsU0FBQUEsUUFBQSxJQUFBRixHQUFBQyxFQUFBLE9BQUFBLEVBQUFGLEdBQUEsR0FBQSxHQUFBSSxFQUFBLE9BQUFBLEVBQUFKLEdBQUEsR0FBQSxNQUFBSyxFQUFBLElBQUFDLE1BQUEsdUJBQUFOLEVBQUEsTUFBQU8sS0FBQSxtQkFBQUYsRUFBQUcsRUFBQVgsRUFBQUcsR0FBQSxDQUFBUyxRQUFBLElBQUFiLEVBQUFJLEdBQUEsR0FBQVUsS0FBQUYsRUFBQUMsUUFBQSxTQUFBZCxHQUFBLE9BQUFJLEVBQUFILEVBQUFJLEdBQUEsR0FBQUwsSUFBQUEsSUFBQWEsRUFBQUEsRUFBQUMsUUFBQWQsRUFBQUMsRUFBQUMsRUFBQUMsR0FBQSxPQUFBRCxFQUFBRyxHQUFBUyxRQUFBLElBQUEsSUFBQUwsRUFBQSxtQkFBQUQsU0FBQUEsUUFBQUgsRUFBQSxFQUFBQSxFQUFBRixFQUFBYSxPQUFBWCxJQUFBRCxFQUFBRCxFQUFBRSxJQUFBLE9BQUFELEVBQUEsQ0FBQSxDQUFBYSxFQUFBLENBQUEsU0FBQVQsRUFBQVUsRUFBQUosZ0JDQUEsSUFBSUssRUFFTUMsRUFBQUEsRUFrSU5DLE9BaklIRixFQUEwQixTQUFVRyxHQUNuQyxJQUFJQyxFQU1IQyxFQURBQyxFQUFXQyxHQUFHQyxNQUFNRixTQUlwQkcsRUFBZ0IsRUFHakJILEVBQVNJLFFBQVFQLE9BQU9RLFlBQWlFLFVBQW5EQyxhQUFhQyxRQUFTLHdCQUN2RFAsRUFBU0ksUUFBUVAsT0FBT1csYUFFNUJYLEVBQU9ZLFdBQVksZUFBZ0IsV0FDbENULEVBQVNJLFFBQVFQLE9BQU9RLGFBQWdCTCxFQUFTSSxRQUFRUCxPQUFPUSxZQUNoRUMsYUFBYUksUUFBUyx1QkFBd0JWLEVBQVNJLFFBQVFQLE9BQU9RLFlBQVlNLFlBQ2xGYixFQUFTYyxPQUFRWixFQUFTSSxRQUFRUCxPQUFPUSxlQUsxQ1IsRUFBT2dCLFVBQVUsV0FBWSxDQUM1QkMsS0FBTSxXQUNOQyxRQUFTZixFQUFTZ0IsS0FBS0MscUJBQ3ZCQyxJQUFNLGVBQ05DLGFBQWMsV0FDYnJCLEVBQVdzQixNQUVaUixPQUFPWixFQUFTSSxRQUFRUCxPQUFPUSxjQUloQ1IsRUFBT2dCLFVBQVUseUJBQTBCLENBQzFDQyxLQUFNLHNEQUNOQyxRQUFTZixFQUFTZ0IsS0FBS0ssYUFDdkJDLFFBQVMsV0FFUixJQUNBQyxFQUFRMUIsRUFBTzJCLFVBQVVDLFVBRXpCekIsRUFBUzBCLFlBQWFILEVBQU8xQixNQUsvQkEsRUFBTzhCLEtBQU0sVUFBVyxXQUNsQjlCLEVBQU9JLElBQU1KLEVBQU9JLEdBQUcyQixpQkFDM0I3QixFQUFVRixFQUFPSSxHQUFHMkIsZUFBZ0IsQ0FDbkMsbUJBQ0EscUJBQ0Esb0JBQ0EsbUJBQ0EseUJBQ0EsY0FDQSxxQkFNSC9CLEVBQU9nQyxHQUFJLFlBQWEsU0FBVUMsR0FDakMsSUFBSUMsRUFDNEIsUUFBM0JELEVBQU1FLFFBQVFDLFVBQXdCcEMsRUFBT0ksR0FBR2lDLGNBQWVKLEVBQU1FLFdBR3pFRCxHQUZBRCxFQUFNL0IsUUFBVUEsR0FFSW9DLElBQUlDLEtBQUssb0JBQW9CQyxRQUFRLGFBYTVELFNBQW9CQyxHQUNmQyxFQUFNRCxFQUFJRSxJQUFJQyxVQUFVLEVBQUUsR0FDOUIsTUFBZSxVQUFSRixHQUEyQixVQUFSQSxFQWJuQkcsQ0FBV1osRUFBTUUsU0FHckJELEVBQVVZLE9BRlZaLEVBQVVhLFdBZ0JkL0MsRUFDRWdDLEdBQUksd0JBQXlCLFNBQVNyRCxHQU10QyxPQUpNQSxFQUFFcUUsUUFBUUMsTUFBTyxtQ0FDdEJ0RSxFQUFFdUUsaUJBQ0Z2RSxFQUFFcUUsUUFBVSxJQUVOckUsSUFHUHFELEdBQUksa0JBQW1CLFNBQVNyRCxHQUNHLElBQTlCQSxFQUFFcUUsUUFBUUcsUUFBUSxVQUN0QjdDLElBQ0EzQixFQUFFcUUsUUFBVSxzQkFBc0IxQyxFQUFjUSxXQUFXLElBQU1uQyxFQUFFcUUsUUFBUUksT0FBTyxNQUluRnBCLEdBQUksbUJBQW9CLFNBQVNyRCxHQUVqQyxJQUFpQjBFLEVBRWpCQyxFQUFjeEQsRUFBRW5CLEVBQUU0RSxNQUFNQyxXQUFXQyxRQUM5QkgsRUFBWUksR0FBRyxTQUNkSixFQUFZSyxJQUFJLEdBQ2xCQyxPQUFTLFNBQVNqRixHQUNwQixJQUFJa0YsRUFBaUJ0QyxLQUFLdUMsYUFBZXZDLEtBQUt3QyxjQUFpQjVELEVBQVNJLFFBQVFQLE9BQU9nRSxrQkFDbEY3RCxFQUFTSSxRQUFRUCxPQUFPVyxhQUFlUixFQUFTSSxRQUFRUCxPQUFPUSxhQUFlcUQsSUFDbEZSLEVBQWFsRCxFQUFTMEIsWUFBYXlCLEVBQVlLLElBQUksR0FBSTNELEdBQ3ZEc0QsRUFBWVcsU0FDWm5FLEVBQUVuQixFQUFFNEUsTUFBTVcsT0FBUWIsS0FDTGxELEVBQVNJLFFBQVFQLE9BQU9XLFlBQWNrRCxHQUNuRDdELEVBQU9GLEVBQUUsY0FBY1EsRUFBY1EsWUFBWW1ELGNBU3ZERSxRQUFRQyxjQUFjQyxJQUFLLFlBQWF4RSIsImZpbGUiOiJhZG1pbi9tY2UvdGhlLXBhc3RlLXBsdWdpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCJ2YXIgdGhlX3Bhc3RlUGx1Z2luQ2FsbGJhY2s7XG5cbihmdW5jdGlvbigkKXtcblx0dGhlX3Bhc3RlUGx1Z2luQ2FsbGJhY2sgPSBmdW5jdGlvbiggZWRpdG9yICkge1xuXHRcdHZhciBwYXN0ZUJ0bixcblx0XHRcdG9yaWdEb21BZGQsXG5cdFx0XHRjbGlwYm9hcmRIYXNJbWFnZSA9IGZhbHNlLFxuXHRcdFx0Y3VycmVudENsaXBib2FyZEV2ZW50ID0gbnVsbCxcblx0XHRcdHByZXZlbnRJbWFnZVBhc3RlID0gZmFsc2UsXG5cdFx0XHR0aGVwYXN0ZSA9IHdwLm1lZGlhLnRoZXBhc3RlLFxuXHRcdFx0dG9vbGJhcixcblx0XHRcdHBhc3RlZF9pbWFnZV90bXBfcHJlZml4ID0gJ19fcGFzdGVkX2ltYWdlX3RtcF8nLFxuXHRcdFx0cGFzdGVkX2ltYWdlX3RtcF9jbGFzcyA9ICcnLFxuXHRcdFx0Y3VycmVudFBhc3RlZCA9IDA7XG5cblx0XHQvLyBkZWZhdWx0IG9uXG5cdFx0dGhlcGFzdGUub3B0aW9ucy5lZGl0b3IuYXV0b191cGxvYWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSggJ3RoZXBhc3RlLmF1dG9fdXBsb2FkJyApICE9PSAnZmFsc2UnO1xuXHRcdGlmICggdGhlcGFzdGUub3B0aW9ucy5lZGl0b3IuY2FuX3VwbG9hZCApIHtcblx0XHRcdC8vIGVuYWJsZSAvIGRpc2FibGUgYXV0b3VwbG9hZFxuXHRcdFx0ZWRpdG9yLmFkZENvbW1hbmQoICdjbWRfdGhlcGFzdGUnLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dGhlcGFzdGUub3B0aW9ucy5lZGl0b3IuYXV0b191cGxvYWQgPSAhIHRoZXBhc3RlLm9wdGlvbnMuZWRpdG9yLmF1dG9fdXBsb2FkO1xuXHRcdFx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbSggJ3RoZXBhc3RlLmF1dG9fdXBsb2FkJywgdGhlcGFzdGUub3B0aW9ucy5lZGl0b3IuYXV0b191cGxvYWQudG9TdHJpbmcoKSApO1xuXHRcdFx0XHRwYXN0ZUJ0bi5hY3RpdmUoIHRoZXBhc3RlLm9wdGlvbnMuZWRpdG9yLmF1dG9fdXBsb2FkICk7XG5cblx0XHRcdH0pO1xuXG5cdFx0XHQvLyBlbmFibGUgLyBkaXNhYmxlIGF1dG91cGxvYWQgYnV0dG9uXG5cdFx0XHRlZGl0b3IuYWRkQnV0dG9uKCd0aGVwYXN0ZScsIHtcblx0XHRcdFx0aWNvbjogJ3RoZXBhc3RlJyxcblx0XHRcdFx0dG9vbHRpcDogdGhlcGFzdGUubDEwbi51cGxvYWRfcGFzdGVkX2ltYWdlcyxcblx0XHRcdFx0Y21kIDogJ2NtZF90aGVwYXN0ZScsXG5cdFx0XHRcdG9uUG9zdFJlbmRlcjogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0cGFzdGVCdG4gPSB0aGlzO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRhY3RpdmU6dGhlcGFzdGUub3B0aW9ucy5lZGl0b3IuYXV0b191cGxvYWRcblx0XHRcdH0pO1xuXG5cdFx0XHQvLyB1cGxvYWQgYnV0dG9uIGluIG1lZGlhIHRvb2xiYXIgZmx5b3V0XG5cdFx0XHRlZGl0b3IuYWRkQnV0dG9uKCd3cF9pbWdfdGhlcGFzdGVfdXBsb2FkJywge1xuXHRcdFx0XHRpY29uOiAnZGFzaGljb24gZGFzaGljb25zIGRhc2hpY29ucy11cGxvYWQgdGhlcGFzdGUtdXBsb2FkJyxcblx0XHRcdFx0dG9vbHRpcDogdGhlcGFzdGUubDEwbi51cGxvYWRfaW1hZ2UsXG5cdFx0XHRcdG9uY2xpY2s6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdC8vIHdyYXAgaW1nLCB1cGxvYWRcblx0XHRcdFx0XHR2YXIgaW1hZ2U7XG5cdFx0XHRcdFx0aW1hZ2UgPSBlZGl0b3Iuc2VsZWN0aW9uLmdldE5vZGUoKTtcblxuXHRcdFx0XHRcdHRoZXBhc3RlLnVwbG9hZEltYWdlKCBpbWFnZSwgZWRpdG9yICk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXG5cdFx0XHQvLyBpbml0IG1lZGlhIHRvb2xiYXIgZmx5b3V0XG5cdFx0XHRlZGl0b3Iub25jZSggJ3ByZWluaXQnLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCBlZGl0b3Iud3AgJiYgZWRpdG9yLndwLl9jcmVhdGVUb29sYmFyICkge1xuXHRcdFx0XHRcdHRvb2xiYXIgPSBlZGl0b3Iud3AuX2NyZWF0ZVRvb2xiYXIoIFtcblx0XHRcdFx0XHRcdCd3cF9pbWdfYWxpZ25sZWZ0Jyxcblx0XHRcdFx0XHRcdCd3cF9pbWdfYWxpZ25jZW50ZXInLFxuXHRcdFx0XHRcdFx0J3dwX2ltZ19hbGlnbnJpZ2h0Jyxcblx0XHRcdFx0XHRcdCd3cF9pbWdfYWxpZ25ub25lJyxcblx0XHRcdFx0XHRcdCd3cF9pbWdfdGhlcGFzdGVfdXBsb2FkJyxcblx0XHRcdFx0XHRcdCd3cF9pbWdfZWRpdCcsXG5cdFx0XHRcdFx0XHQnd3BfaW1nX3JlbW92ZScsXG5cdFx0XHRcdFx0XSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9ICk7XG5cblx0XHRcdC8vIHNldHVwIG1lZGlhIHRvb2xiYXIgZmx5b3V0IG9uIG5vZGUgY2hhbmdlXG5cdFx0XHRlZGl0b3Iub24oICd3cHRvb2xiYXInLCBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRcdHZhciB1cGxvYWRCdG47XG5cdFx0XHRcdGlmICggZXZlbnQuZWxlbWVudC5ub2RlTmFtZSA9PT0gJ0lNRycgJiYgISBlZGl0b3Iud3AuaXNQbGFjZWhvbGRlciggZXZlbnQuZWxlbWVudCApICkge1xuXHRcdFx0XHRcdGV2ZW50LnRvb2xiYXIgPSB0b29sYmFyO1xuXG5cdFx0XHRcdFx0dXBsb2FkQnRuID0gdG9vbGJhci4kZWwuZmluZCgnLnRoZXBhc3RlLXVwbG9hZCcpLmNsb3Nlc3QoJy5tY2UtYnRuJyk7XG5cblx0XHRcdFx0XHRpZiAoIGNhblVwbG9hZCggZXZlbnQuZWxlbWVudCApICkge1xuXHRcdFx0XHRcdFx0dXBsb2FkQnRuLnNob3coKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0dXBsb2FkQnRuLmhpZGUoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0gKTtcblxuXHRcdH1cblxuXHRcdC8vIHRydSBpZiBkYXRhIHNvdXJjZSBvciBibG9iIGltYWdlXG5cdFx0ZnVuY3Rpb24gY2FuVXBsb2FkKCBpbWcgKSB7XG5cdFx0XHR2YXIgc3ViID0gaW1nLnNyYy5zdWJzdHJpbmcoMCw1KTtcblx0XHRcdHJldHVybiBzdWIgPT09ICdibG9iOicgfHwgc3ViID09PSAnZGF0YTonO1xuXHRcdH1cblxuXHRcdC8vIHNldHVwIG1lZGlhIHRvb2xiYXIgZmx5b3V0XG5cdFx0ZWRpdG9yXG5cdFx0XHQub24oICdCZWZvcmVQYXN0ZVByZVByb2Nlc3MnLCBmdW5jdGlvbihlKXtcblx0XHRcdFx0Ly8gcmVtb3ZlIHN2ZyBkYXRhXG5cdFx0XHRcdGlmICggIGUuY29udGVudC5tYXRjaCggLyZsdDtzdmdbXFxzXFxTLl0qJmx0O1xcL3N2ZyZndDsvaSApICkge1xuXHRcdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0XHRlLmNvbnRlbnQgPSAnJztcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gZTtcblxuXHRcdFx0fSApXG5cdFx0XHQub24oICdQYXN0ZVByZVByb2Nlc3MnLCBmdW5jdGlvbihlKXtcblx0XHRcdFx0aWYgKCBlLmNvbnRlbnQuaW5kZXhPZignPGltZycpID09PSAwICkge1xuXHRcdFx0XHRcdGN1cnJlbnRQYXN0ZWQrKztcblx0XHRcdFx0XHRlLmNvbnRlbnQgPSAnPGltZyBpZD1cInRoZXBhc3RlZC0nK2N1cnJlbnRQYXN0ZWQudG9TdHJpbmcoKSsnXCInICsgZS5jb250ZW50LnN1YnN0cig0KTtcblx0XHRcdFx0fVxuXG5cdFx0XHR9KVxuXHRcdFx0Lm9uKCAnUGFzdGVQb3N0UHJvY2VzcycsIGZ1bmN0aW9uKGUpe1xuXHRcdFx0XHQvLyB1cGxvYWQgaW1hZ2Vcblx0XHRcdFx0dmFyICRmaXJzdENoaWxkLCAkdXBsb2FkQm94LCBlbDtcblxuXHRcdFx0XHQkZmlyc3RDaGlsZCA9ICQoZS5ub2RlKS5jaGlsZHJlbigpLmZpcnN0KCk7XG5cdFx0XHRcdGlmICggJGZpcnN0Q2hpbGQuaXMoJ2ltZycpICkge1xuXHRcdFx0XHRcdGVsID0gJGZpcnN0Q2hpbGQuZ2V0KDApO1xuXHRcdFx0XHRcdGVsLm9ubG9hZCA9IGZ1bmN0aW9uKGUpIHtcblx0XHRcdFx0XHRcdHZhciBzaG91bGRfdXBsb2FkID0gKHRoaXMubmF0dXJhbFdpZHRoICogdGhpcy5uYXR1cmFsSGVpZ2h0KSA+IHRoZXBhc3RlLm9wdGlvbnMuZWRpdG9yLmZvcmNlX3VwbG9hZF9zaXplXG5cdFx0XHRcdFx0XHRpZiAoIHRoZXBhc3RlLm9wdGlvbnMuZWRpdG9yLmNhbl91cGxvYWQgJiYgKHRoZXBhc3RlLm9wdGlvbnMuZWRpdG9yLmF1dG9fdXBsb2FkIHx8IHNob3VsZF91cGxvYWQgKSApIHtcblx0XHRcdFx0XHRcdFx0JHVwbG9hZEJveCA9IHRoZXBhc3RlLnVwbG9hZEltYWdlKCAkZmlyc3RDaGlsZC5nZXQoMCksIGVkaXRvciApO1xuXHRcdFx0XHRcdFx0XHQkZmlyc3RDaGlsZC5yZW1vdmUoKTtcblx0XHRcdFx0XHRcdFx0JChlLm5vZGUpLmFwcGVuZCggJHVwbG9hZEJveCApO1xuXHRcdFx0XHRcdFx0fSBlbHNlIGlmICggISB0aGVwYXN0ZS5vcHRpb25zLmVkaXRvci5jYW5fdXBsb2FkICYmIHNob3VsZF91cGxvYWQgKSB7XG5cdFx0XHRcdFx0XHRcdGVkaXRvci4kKCcjdGhlcGFzdGVkLScrY3VycmVudFBhc3RlZC50b1N0cmluZygpKS5yZW1vdmUoKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0pXG5cdFx0XHQ7XG5cblx0fTtcblxuXHR0aW55bWNlLlBsdWdpbk1hbmFnZXIuYWRkKCAndGhlX3Bhc3RlJywgdGhlX3Bhc3RlUGx1Z2luQ2FsbGJhY2sgKTtcblxufSApKGpRdWVyeSk7XG4iXX0=
