!function(){"use strict";function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function t(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}var i=t((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),jQuery("#pp-options-content").tabs(),jQuery("#pp-options-module-help .pp-docs-hide").hide(),jQuery("#pp-options-module-help .pp-docs-title").on("click",(function(){jQuery(this).toggleClass("pp-toggle"),jQuery(this).next().slideToggle("fast")})),jQuery("#pp-options-module-toolkit .pp-toolkit-content").hide(),jQuery("#pp-options-module-toolkit .pp-toolkit-title").on("click",(function(){jQuery(this).toggleClass("pp-toggle"),jQuery(this).next().slideToggle("fast")})),jQuery(".pp-hidden-settings").hide(),jQuery(".pp-hidden-settings-title").on("click",(function(){jQuery(this).toggleClass("pp-toggle"),jQuery(this).next().slideToggle("fast")}))}));function r(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.data=window.ppjsAdminOpt||{},this.url=jQuery(".pp-toolkit-url").first(),this.index=jQuery(".select-pp-feed-index").first(),this.refresh=jQuery(".pp-feed-refresh"),this.reset=jQuery(".pp-feed-reset"),this.feedback=jQuery(".pp-toolkit-feedback").first(),this.events()}var t,i;return t=e,i=[{key:"events",value:function(){var e=this;this.refresh.on("click",function(){this.ajaxFeedEditor("refresh")}.bind(this)),this.reset.on("click",function(){this.ajaxFeedEditor("reset")}.bind(this)),jQuery(".pp-feed-del").on("click",(function(){e.index.val()||e.url.val()?(jQuery(this).next(".pp-toolkit-del-confirm").slideDown("fast"),e.response()):e.response(e.data.messages.nourl,"pp-error")})),jQuery(".pp-feed-cancel").on("click",(function(){jQuery(this).parents(".pp-toolkit-del-confirm").hide()}))}},{key:"ajaxFeedEditor",value:function(e){var t=this,i=this.getAjaxConfig(e);this.response(this.data.messages.running,"pp-running"),i?jQuery.ajax({url:this.data.ajaxurl,data:i,type:"POST",timeout:6e4,success:function(e){var i=JSON.parse(e);jQuery.isEmptyObject(i)||(void 0!==i.error?t.response(i.error,"pp-error"):void 0!==i.message&&t.response(i.message,"pp-success"))},error:function(e,i,r){t.response(r,"pp-error")}}):this.response(this.data.messages.nourl,"pp-error")}},{key:"getAjaxConfig",value:function(e){var t=this.index.val();return t?{action:"pp_feed_editor",security:this.data.security,atype:e,feedUrl:t,rFrom:"indexKey"}:!!(t=this.url.val())&&{action:"pp_feed_editor",security:this.data.security,atype:e,feedUrl:t}}},{key:"response",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.feedback.removeClass("pp-error pp-success pp-running"),!1!==t&&(this.feedback.addClass(t),this.feedback.find(".pp-feedback").text(e))}}],i&&r(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),e}(),s=n;new i,new s}();